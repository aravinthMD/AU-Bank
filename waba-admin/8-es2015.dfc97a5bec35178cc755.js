(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Q6l2:function(e,o,i){"use strict";i.r(o),i.d(o,"ConfigureTriggerTimeModule",(function(){return g}));var r=i("ofXK"),t=i("3Pt+"),s=i("tyNb"),n=i("y1cd"),c=i("fXoL"),m=i("kmKP"),l=i("mAmA"),a=i("1kSV");function b(e,o){1&e&&c.Qb(0,"span",16)}function u(e,o){1&e&&(c.Ub(0,"span"),c.Jc(1,"Submit"),c.Tb())}const T=[{path:"",component:(()=>{class e{constructor(e,o,i){this.formBuilder=e,this.userService=o,this.toasterService=i,this.fromTime={hour:13,minute:30},this.toTime={hour:13,minute:30},this.loading=!1,this.forms=this.formBuilder.group({FromTime:[null],ToTime:[null]}),this.tableHeaders=["TimeZones","FromBlocKTIme","ToBlockTIme","Action"],this.templates=[{timeZones:"(UTC-12:00) International Date Line West",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-10:00) Hawaii",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-09:00) Alaska",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-07:00) Arizona",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-07:00) Mountain Time (US & Canada)",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-06:00) Central Time (US & Canada)",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-12:00) International Date Line West",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"},{timeZones:"(UTC-12:00) International Date Line West",fromBlockTime:"10:00:00",toBlockTime:"22:00:00"}]}ngOnInit(){this.getBlockTriggerTime()}OnSubmit(){const e=this.forms.controls,o=e.FromTime.value,i=e.ToTime.value;this.userService.updateBlockTriggerTime(`${o.hour}:${o.minute}:00`,`${i.hour}:${i.minute}:00`,Number(this.userService.currentUserValue.userId),"").subscribe(e=>{console.log()})}OnEdit(){const e=this.forms.controls,o=e.FromTime.value,i=e.ToTime.value,r=this.userService.currentUserValue.userId,t=`${o.hour}:${o.minute}:00`,s=`${i.hour}:${i.minute}:00`;this.loading=!0,this.userService.updateBlockTriggerTime(t,s,Number(r),this.id).subscribe(e=>{console.log(e);const{ProcessVariables:{status:o},ProcessVariables:{message:i={}}}=e;o?(this.forms.reset(),this.loading=!1,this.toasterService.showSuccess(n.j.UPDATE_BLOCK_TIME_SUCCESS),this.getBlockTriggerTime()):(this.toasterService.showError(n.j.UPDATE_BLOCK_TIME_FAILURE),this.loading=!1)},e=>{this.loading=!1,this.toasterService.showError(e),console.log(e)})}getBlockTriggerTime(){this.userService.getTriggerTimeBlock("1").subscribe(e=>{const{ProcessVariables:{message:o={}}}=e;console.log(e);{const{ProcessVariables:{blockedBy:o,blockedFrom:i,blockedTo:r,id:t}}=e;this.blockedBy=o,this.blockedFrom=i,this.blcokedTo=r,this.id=t,this.configurable(i,r)}})}configurable(e,o){let i=e.split(":");const r=Number(i[0]),t=Number(i[1]);let s=o.split(":");const n=Number(s[0]),c=Number(s[1]);this.forms.controls.FromTime.setValue({hour:r,minute:t}),this.forms.controls.ToTime.setValue({hour:n,minute:c})}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(t.c),c.Pb(m.a),c.Pb(l.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-configure-trigger-time"]],decls:24,vars:4,consts:[[1,"main"],[1,"container"],[1,"user","shadow-lg"],[1,"card-header","text-center"],[1,"p-4"],[3,"formGroup"],[1,"row","d-flex"],[1,"col-6"],[1,"form-group"],["for","fromTimePicker"],["id","fromTimePicker","formControlName","FromTime"],["for","toTimePicker"],["id","toTimePicker","formControlName","ToTime"],[1,"btn","submit-btn","shadow",3,"disabled","click"],["class","spinner-border","style","width: 2rem; height: 2rem;","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"spinner-border",2,"width","2rem","height","2rem"]],template:function(e,o){1&e&&(c.Ub(0,"div",0),c.Ub(1,"h2"),c.Jc(2,"Configure Block Time"),c.Tb(),c.Ub(3,"div",1),c.Ub(4,"div",2),c.Ub(5,"div",3),c.Jc(6," Block Time "),c.Tb(),c.Ub(7,"div",4),c.Ub(8,"form",5),c.Ub(9,"div",6),c.Ub(10,"div",7),c.Ub(11,"div",8),c.Ub(12,"label",9),c.Jc(13,"From Time"),c.Tb(),c.Qb(14,"ngb-timepicker",10),c.Tb(),c.Tb(),c.Ub(15,"div",7),c.Ub(16,"div",8),c.Ub(17,"label",11),c.Jc(18,"To Time"),c.Tb(),c.Qb(19,"ngb-timepicker",12),c.Tb(),c.Tb(),c.Tb(),c.Ub(20,"div"),c.Ub(21,"button",13),c.gc("click",(function(){return o.OnEdit()})),c.Hc(22,b,1,0,"span",14),c.Hc(23,u,2,0,"span",15),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Bb(8),c.pc("formGroup",o.forms),c.Bb(13),c.pc("disabled",o.forms.invalid),c.Bb(1),c.pc("ngIf",o.loading),c.Bb(1),c.pc("ngIf",!o.loading))},directives:[t.w,t.n,t.h,a.k,t.m,t.f,r.m],styles:["button[_ngcontent-%COMP%]{width:-webkit-fill-available;border:1px solid #97144d;padding:10px;margin-top:10px;font-size:18px}.card-header[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;background-color:#97144d}.card-header[_ngcontent-%COMP%]{padding:.75rem!important;border-top-left-radius:unset;border-top-right-radius:unset}"]}),e})(),pathMatch:"full"}];let d=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(o){return new(o||e)},imports:[[s.e.forChild(T)],s.e]}),e})();var h=i("PCNd"),f=i("hctd");let g=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(o){return new(o||e)},imports:[[r.c,t.i,d,a.d,h.a,f.a]]}),e})()}}]);