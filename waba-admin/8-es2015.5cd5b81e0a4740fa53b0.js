(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"R+aC":function(t,e,n){"use strict";n.r(e),n.d(e,"MarketingCheckerModule",(function(){return L}));var a=n("ofXK"),i=n("tyNb"),o=n("fXoL"),c=n("1kSV"),r=n("3Pt+"),s=n("y1cd"),l=n("kmKP"),b=n("mAmA");function d(t,e){1&t&&o.Nb(0,"span",11)}function u(t,e){if(1&t&&(o.Rb(0,"span"),o.Cc(1),o.Qb()),2&t){const t=o.fc();o.zb(1),o.Dc(t.launchButtonText)}}let h=(()=>{class t{constructor(t,e,n){this.userService=t,this.toasterService=e,this.ngbActiveModal=n,this.launchButtonText=s.b.LAUNCH_BUTTON_TEXT,this.rejectButtonText=s.b.REJECT_BUTTON_TEXT,this.loading=!1}ngOnInit(){console.log(this.inputData)}approveTemplate(){this.loading=!0,this.userService.updateTemplate(String(this.userService.currentUserValue.userId),s.i.APPROVED,this.inputData.id).subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.toasterService.showSuccess(s.j.APPROVE_TEMPLATE_SUCCESS),this.loading=!1,this.close(s.g.SUCCESS)):(this.loading=!1,this.toasterService.showError(n.value))},t=>{this.loading=!1,this.toasterService.showError(t)})}close(t){this.ngbActiveModal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(l.a),o.Mb(b.a),o.Mb(c.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-approve-template-dialog"]],inputs:{inputData:"inputData"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"text-message"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","btn-confirm","shadow",3,"click"],["class","spinner-border","style","width: 1rem; height: 1rem;","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-danger","shadow",3,"click"],["aria-hidden","true",1,"spinner-border",2,"width","1rem","height","1rem"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"h4",1),o.Cc(2," Approve Template -"),o.Rb(3,"span",2),o.Cc(4),o.Qb(),o.Qb(),o.Rb(5,"button",3),o.dc("click",(function(){return e.close()})),o.Rb(6,"span",4),o.Cc(7,"\xd7"),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"div",5),o.Rb(9,"span",2),o.Cc(10,"Do you want to approve the template?"),o.Qb(),o.Qb(),o.Rb(11,"div",6),o.Rb(12,"button",7),o.dc("click",(function(){return e.approveTemplate()})),o.Ac(13,d,1,0,"span",8),o.Ac(14,u,2,1,"span",9),o.Qb(),o.Rb(15,"button",10),o.dc("click",(function(){return e.close()})),o.Cc(16," Cancel "),o.Qb(),o.Qb()),2&t&&(o.zb(4),o.Dc(e.inputData&&e.inputData.id),o.zb(9),o.lc("ngIf",e.loading),o.zb(1),o.lc("ngIf",!e.loading))},directives:[a.k],styles:["li[_ngcontent-%COMP%], li[_ngcontent-%COMP%] ~ span[_ngcontent-%COMP%]{font-size:20px}"]}),t})();function p(t,e){1&t&&o.Nb(0,"span",15)}function g(t,e){if(1&t&&(o.Rb(0,"span"),o.Cc(1),o.Qb()),2&t){const t=o.fc();o.zb(1),o.Dc(t.rejectButtonText)}}let m=(()=>{class t{constructor(t,e,n){this.userService=t,this.toasterService=e,this.ngbActiveModal=n,this.rejectButtonText=s.b.REJECT_BUTTON_TEXT,this.cancelButtonText=s.b.CANCEL_BUTTON_TEXT,this.loading=!1}ngOnInit(){this.form=new r.f({reason:new r.d(null,{validators:[r.q.required]})})}rejectTemplate(){this.loading=!0,this.userService.updateTemplate(String(this.userService.currentUserValue.userId),s.i.REJECTED,this.inputData.id,this.form.value.reason).subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.toasterService.showSuccess(s.j.REJECT_TEMPLATE_SUCCESS),this.close(s.g.SUCCESS),this.loading=!1):(this.loading=!1,this.toasterService.showError(n.value))},t=>{this.loading=!1,this.toasterService.showError(t)})}close(t){this.ngbActiveModal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(l.a),o.Mb(b.a),o.Mb(c.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-reject-template-dialog"]],inputs:{inputData:"inputData"},decls:20,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],[1,"text-message"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","template"],["formControlName","reason","ngbAutofocus","",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-confirm","shadow",3,"disabled","click"],["class","spinner-border","style","width: 1rem; height: 1rem;","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-danger","shadow",3,"click"],["aria-hidden","true",1,"spinner-border",2,"width","1rem","height","1rem"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"h4",1),o.Cc(2," Reject Template -"),o.Rb(3,"span",2),o.Cc(4),o.Qb(),o.Qb(),o.Rb(5,"button",3),o.dc("click",(function(){return e.close()})),o.Rb(6,"span",4),o.Cc(7,"\xd7"),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"div",5),o.Rb(9,"form",6),o.Rb(10,"div",7),o.Rb(11,"label",8),o.Cc(12,"Reason"),o.Qb(),o.Nb(13,"input",9),o.Qb(),o.Qb(),o.Qb(),o.Rb(14,"div",10),o.Rb(15,"button",11),o.dc("click",(function(){return e.rejectTemplate()})),o.Ac(16,p,1,0,"span",12),o.Ac(17,g,2,1,"span",13),o.Qb(),o.Rb(18,"button",14),o.dc("click",(function(){return e.close()})),o.Cc(19),o.Qb(),o.Qb()),2&t&&(o.zb(4),o.Dc(e.inputData&&e.inputData.id),o.zb(5),o.lc("formGroup",e.form),o.zb(6),o.lc("disabled",e.form.invalid||e.loading),o.zb(1),o.lc("ngIf",e.loading),o.zb(1),o.lc("ngIf",!e.loading),o.zb(2),o.Ec(" ",e.cancelButtonText," "))},directives:[r.s,r.l,r.g,r.b,r.k,r.e,a.k],styles:["mat-form-field[_ngcontent-%COMP%]{width:95%}"]}),t})();var f=n("SaRM");function v(t,e){1&t&&o.Nb(0,"ngb-progressbar",23),2&t&&o.lc("value",100)("striped",!0)("animated",!0)}function C(t,e){if(1&t&&(o.Rb(0,"option",24),o.Cc(1),o.Qb()),2&t){const t=e.$implicit;o.lc("value",t.value),o.zb(1),o.Dc(t.name)}}function D(t,e){if(1&t&&(o.Rb(0,"th",25),o.Cc(1),o.Qb()),2&t){const t=e.$implicit;o.zb(1),o.Dc(t)}}function T(t,e){if(1&t){const t=o.Sb();o.Rb(0,"button",30),o.dc("click",(function(){o.uc(t);const e=o.fc().$implicit;return o.fc().openApproveTemplateDialog(e)})),o.Cc(1),o.Qb()}if(2&t){const t=o.fc(2);o.zb(1),o.Ec(" ",t.launchButtonText," ")}}function R(t,e){if(1&t){const t=o.Sb();o.Rb(0,"button",30),o.dc("click",(function(){o.uc(t);const e=o.fc().$implicit;return o.fc().openRejectTemplateDialog(e)})),o.Cc(1),o.Qb()}if(2&t){const t=o.fc(2);o.zb(1),o.Ec(" ",t.rejectButtonText," ")}}function y(t,e){1&t&&(o.Rb(0,"button",31),o.Cc(1," Rejected "),o.Qb())}function Q(t,e){1&t&&(o.Rb(0,"button",32),o.Cc(1," Approved "),o.Qb())}function S(t,e){if(1&t&&(o.Rb(0,"tr"),o.Rb(1,"td"),o.Rb(2,"a"),o.Cc(3),o.Qb(),o.Qb(),o.Rb(4,"td"),o.Cc(5),o.Qb(),o.Rb(6,"td"),o.Cc(7),o.gc(8,"date"),o.Qb(),o.Rb(9,"td"),o.Cc(10),o.Qb(),o.Rb(11,"td"),o.Cc(12),o.gc(13,"date"),o.Qb(),o.Rb(14,"td"),o.Rb(15,"div",26),o.Ac(16,T,2,1,"button",27),o.Ac(17,R,2,1,"button",27),o.Ac(18,y,2,0,"button",28),o.Ac(19,Q,2,0,"button",29),o.Qb(),o.Qb(),o.Qb()),2&t){const t=e.$implicit;o.zb(3),o.Dc(t.id),o.zb(2),o.Ec(" ",t.template," "),o.zb(2),o.Ec(" ",o.ic(8,9,t.startDate,"yyyy-MM-dd")," "),o.zb(3),o.Dc(t.triggerTime),o.zb(2),o.Dc(o.ic(13,12,t.endDate,"yyyy-MM-dd")),o.zb(4),o.lc("ngIf","10"===t.status),o.zb(1),o.lc("ngIf","10"===t.status),o.zb(1),o.lc("ngIf","20"===t.status),o.zb(1),o.lc("ngIf","30"===t.status)}}let M=(()=>{class t{constructor(t,e,n,a,i){this.formBuilder=t,this.referenceService=e,this.userService=n,this.toasterService=a,this.ngbModal=i,this.launchButtonText=s.b.LAUNCH_BUTTON_TEXT,this.rejectButtonText=s.b.REJECT_BUTTON_TEXT,this.loading=!1,this.currentPage=1,this.pageSize=10,this.templates=[],this.isFilterValid=!1,this.filterOptions=[{name:"ALL",value:"40"},{name:"SUBMITTED",value:"10"},{name:"APPROVED",value:"30"},{name:"REJECTED",value:"20"}],this.tableHeaders=["Template Id","Template","Created On","Upload Time","Campaign End Date","Action"],this.form=this.formBuilder.group({fromDate:[null,r.q.required],toDate:[null,r.q.required],filterType:[s.i.ALL,r.q.required]})}ngOnInit(){this.setValidators(),this.fetchTemplates()}setValidators(){const{minDate:t,maxDate:e}=this.referenceService.getDefaultDateValidators();this.fromMinDate=t,this.fromMaxDate=e,this.toMinDate=t,this.toMaxDate=e}onFromDateChange(t){const{year:e,month:n,day:a}=t;this.toMinDate={year:e,month:n,day:a},this.validate()}onToDateChange(t){const{year:e,month:n,day:a}=t;this.fromMaxDate={year:e,month:n,day:a},this.validate()}onFilterTypeChange(t){this.validate()}validate(){this.form.valid?(this.isFilterValid=!0,this.fetchFilteredTemplates()):this.isFilterValid=!1}onPageChanged(t){this.currentPage=t,this.isFilterValid?this.fetchFilteredTemplates():this.fetchTemplates()}fetchFilteredTemplates(){this.templates=null,window.scroll(0,0),this.loading=!0;const t=this.form.controls,e=t.fromDate.value,n=t.toDate.value,a=t.filterType.value;this.userService.fetchCheckerScreenTemplates(this.currentPage,`${e.year}-${e.month}-${e.day}`,`${n.year}-${n.month}-${n.day}`,a===s.i.ALL?"":a,"","").subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.templates=t.ProcessVariables.templateList,this.collectionSize=t.ProcessVariables.totalCount,this.loading=!1):(this.loading=!1,this.toasterService.showError(n.value))},t=>{this.loading=!1,this.toasterService.showError(t)})}fetchTemplates(){this.templates=null,window.scroll(0,0),this.loading=!0,this.userService.fetchCheckerScreenTemplates(this.currentPage,"","","","","").subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.templates=t.ProcessVariables.templateList,this.collectionSize=t.ProcessVariables.totalCount,this.loading=!1):(this.loading=!1,this.toasterService.showError(n.value))},t=>{this.loading=!1,this.toasterService.showError(t)})}openApproveTemplateDialog(t){const e=this.ngbModal.open(h,{centered:!0});e.componentInstance.inputData=t,e.result.then(t=>{t===s.g.SUCCESS&&(this.isFilterValid?this.fetchFilteredTemplates():this.fetchTemplates())})}openRejectTemplateDialog(t){const e=this.ngbModal.open(m,{centered:!0});e.componentInstance.inputData=t,e.result.then(t=>{t===s.g.SUCCESS&&(this.isFilterValid?this.fetchFilteredTemplates():this.fetchTemplates())})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.c),o.Mb(f.a),o.Mb(l.a),o.Mb(b.a),o.Mb(c.c))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-launch"]],decls:32,vars:13,consts:[["type","dark","height","0.5rem",3,"value","striped","animated",4,"ngIf"],[1,"row","p-3"],[1,"col-6"],[3,"formGroup"],[1,"form-row"],[1,"col"],[1,"input-group"],["placeholder","From Date","name","fromDate","formControlName","fromDate","ngbDatepicker","","readonly","",1,"form-control","bg-search","btn-outline-secondary",3,"maxDate","minDate","dateSelect"],["fromDate","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar-check-o"],["placeholder","To Date","name","toDate","formControlName","toDate","ngbDatepicker","","readonly","",1,"form-control","bg-search","btn-outline-secondary",3,"maxDate","minDate","dateSelect"],["toDate","ngbDatepicker"],["formControlName","filterType","title","Filter Type","id","role",1,"custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table"],[1,"thead-light"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","p-2"],[3,"boundaryLinks","collectionSize","page","pageSize","pageChange"],["type","dark","height","0.5rem",3,"value","striped","animated"],[3,"value"],["scope","col"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn action-btn shadow",3,"click",4,"ngIf"],["type","button","class","btn rejected-btn shadow",4,"ngIf"],["type","button","class","btn approved-btn shadow",4,"ngIf"],["type","button",1,"btn","action-btn","shadow",3,"click"],["type","button",1,"btn","rejected-btn","shadow"],["type","button",1,"btn","approved-btn","shadow"]],template:function(t,e){if(1&t){const t=o.Sb();o.Ac(0,v,1,3,"ngb-progressbar",0),o.Rb(1,"div",1),o.Nb(2,"div",2),o.Rb(3,"div",2),o.Rb(4,"form",3),o.Rb(5,"div",4),o.Rb(6,"div",5),o.Rb(7,"div",6),o.Rb(8,"input",7,8),o.dc("dateSelect",(function(t){return e.onFromDateChange(t)})),o.Qb(),o.Rb(10,"div",9),o.Rb(11,"button",10),o.dc("click",(function(){return o.uc(t),o.tc(9).toggle()})),o.Nb(12,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(13,"div",5),o.Rb(14,"div",6),o.Rb(15,"input",12,13),o.dc("dateSelect",(function(t){return e.onToDateChange(t)})),o.Qb(),o.Rb(17,"div",9),o.Rb(18,"button",10),o.dc("click",(function(){return o.uc(t),o.tc(16).toggle()})),o.Nb(19,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(20,"div",5),o.Rb(21,"select",14),o.dc("change",(function(t){return e.onFilterTypeChange(t)})),o.Ac(22,C,2,2,"option",15),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(23,"div",16),o.Rb(24,"table",17),o.Rb(25,"thead",18),o.Rb(26,"tr"),o.Ac(27,D,2,1,"th",19),o.Qb(),o.Qb(),o.Rb(28,"tbody"),o.Ac(29,S,20,15,"tr",20),o.Qb(),o.Qb(),o.Rb(30,"div",21),o.Rb(31,"ngb-pagination",22),o.dc("pageChange",(function(t){return e.currentPage=t}))("pageChange",(function(){return e.onPageChanged(e.currentPage)})),o.Qb(),o.Qb(),o.Qb()}2&t&&(o.lc("ngIf",e.loading),o.zb(4),o.lc("formGroup",e.form),o.zb(4),o.lc("maxDate",e.fromMaxDate)("minDate",e.fromMinDate),o.zb(7),o.lc("maxDate",e.toMaxDate)("minDate",e.toMinDate),o.zb(7),o.lc("ngForOf",e.filterOptions),o.zb(5),o.lc("ngForOf",e.tableHeaders),o.zb(2),o.lc("ngForOf",e.templates),o.zb(2),o.lc("boundaryLinks",!0)("collectionSize",e.collectionSize)("page",e.currentPage)("pageSize",e.pageSize))},directives:[a.k,r.s,r.l,r.g,r.b,c.b,r.k,r.e,r.p,a.j,c.e,c.f,r.m,r.r],pipes:[a.d],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#97144d!important}.table[_ngcontent-%COMP%]{margin-bottom:0!important;overflow-x:hidden}.bg-search[_ngcontent-%COMP%]{background-color:#fff!important;color:#6c757d}.action-btn[_ngcontent-%COMP%]{background-color:#97144d;border:1px solid #97144d}.action-btn[_ngcontent-%COMP%], .rejected-btn[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-transform:uppercase}.rejected-btn[_ngcontent-%COMP%]{background-color:#8b0000;border:1px solid #8b0000}.approved-btn[_ngcontent-%COMP%]{color:#fff;background-color:#006400;border:1px solid #006400;font-size:12px;text-transform:uppercase}"]}),t})(),P=(()=>{class t{constructor(t){this.ngbActiveModal=t,this.closeButtonText=s.b.CLOSE_BUTTON_TEXT}ngOnInit(){}close(){this.ngbActiveModal.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(c.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-view-template-history-dialog"]],decls:25,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],[1,"text-message"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-maroon","badge-pill"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","btn-danger","shadow",3,"click"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"h4",1),o.Cc(2," Template launch history - "),o.Rb(3,"span",2),o.Cc(4,"L0000001"),o.Qb(),o.Qb(),o.Rb(5,"button",3),o.dc("click",(function(){return e.close()})),o.Rb(6,"span",4),o.Cc(7,"\xd7"),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"div",5),o.Rb(9,"ul",6),o.Rb(10,"li",7),o.Cc(11," Launched On "),o.Rb(12,"span",8),o.Cc(13,"26/07/2020, 3:00PM"),o.Qb(),o.Qb(),o.Rb(14,"li",7),o.Cc(15," No of customers within Active Window "),o.Rb(16,"span",8),o.Cc(17,"426"),o.Qb(),o.Qb(),o.Rb(18,"li",7),o.Cc(19," Messages sent "),o.Rb(20,"span",8),o.Cc(21,"426"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(22,"div",9),o.Rb(23,"button",10),o.dc("click",(function(){return e.close()})),o.Cc(24),o.Qb(),o.Qb()),2&t&&(o.zb(24),o.Ec(" ",e.closeButtonText," "))},styles:["li[_ngcontent-%COMP%], li[_ngcontent-%COMP%] ~ span[_ngcontent-%COMP%]{font-size:20px}"]}),t})();function w(t,e){1&t&&o.Nb(0,"ngb-progressbar",21),2&t&&o.lc("value",100)("striped",!0)("animated",!0)}function k(t,e){if(1&t&&(o.Rb(0,"option",22),o.Cc(1),o.Qb()),2&t){const t=e.$implicit;o.lc("value",t.value),o.zb(1),o.Dc(t.name)}}function E(t,e){if(1&t&&(o.Rb(0,"th",23),o.Cc(1),o.Qb()),2&t){const t=e.$implicit;o.zb(1),o.Dc(t)}}function O(t,e){if(1&t){const t=o.Sb();o.Rb(0,"tr"),o.Rb(1,"td"),o.Cc(2),o.Qb(),o.Rb(3,"td"),o.Cc(4),o.gc(5,"date"),o.Qb(),o.Rb(6,"td"),o.Cc(7),o.Qb(),o.Rb(8,"td"),o.Cc(9),o.gc(10,"date"),o.Qb(),o.Rb(11,"td"),o.Rb(12,"button",24),o.dc("click",(function(){o.uc(t);const n=e.$implicit;return o.fc().deActivateTemplate(n)})),o.Cc(13),o.Qb(),o.Qb(),o.Rb(14,"td"),o.Rb(15,"button",24),o.dc("click",(function(){return o.uc(t),o.fc().openTemplateHistoryDialog()})),o.Cc(16),o.Qb(),o.Qb(),o.Qb()}if(2&t){const t=e.$implicit,n=o.fc();o.zb(2),o.Dc(t.id),o.zb(2),o.Dc(o.ic(5,6,t.startDate,"yyyy-MM-dd")),o.zb(3),o.Dc(t.triggerTime),o.zb(2),o.Dc(o.ic(10,9,t.endDate,"yyyy-MM-dd")),o.zb(4),o.Ec(" ",n.deactivateButtonText," "),o.zb(3),o.Ec(" ",n.viewButtonText," ")}}let z=(()=>{class t{constructor(t,e,n,a,i){this.formBuilder=t,this.referenceService=e,this.ngbModal=n,this.userService=a,this.toasterService=i,this.activateButtonText=s.b.ACTIVATE_BUTTON_TEXT,this.deactivateButtonText=s.b.DEACTIVATE_BUTTON_TEXT,this.viewButtonText=s.b.VIEW_BUTTON_TEXT,this.templates=[],this.loading=!1,this.isFilterValid=!1,this.checkerLogin="Launch Dashboard",this.currentPage=1,this.pageSize=10,this.tableHeaders=["Template Id","Created On","Upload Time","Campaign End Date","Action","Audit"],this.filterOptions=[{name:"ALL",value:"0"},{name:"Active",value:"1"},{name:"Inactive",value:"2"}],this.today=new Date,this.form=this.formBuilder.group({fromDate:[null,r.q.required],toDate:[null,r.q.required],filterType:[this.filterOptions[0].value,r.q.required]}),this.setValidators()}ngOnInit(){this.setValidators(),this.fetchLauchDashBoardTemplate()}setValidators(){const{minDate:t,maxDate:e}=this.referenceService.getDefaultDateValidators();this.fromMinDate=t,this.fromMaxDate=e,this.toMinDate=t,this.toMaxDate=e}onFromDateChange(t){const{year:e,month:n,day:a}=t;this.toMinDate={year:e,month:n,day:a},this.validate()}onToDateChange(t){const{year:e,month:n,day:a}=t;this.fromMaxDate={year:e,month:n,day:a},this.validate()}onPageChanged(t){this.currentPage=t,this.isFilterValid?this.fetchFilteredLauchDashBoardTemplates():this.fetchLauchDashBoardTemplate()}onFilterTypeChange(t){this.validate()}openTemplateHistoryDialog(){this.ngbModal.open(P,{centered:!0})}validate(){this.form.valid?(this.isFilterValid=!0,this.fetchFilteredLauchDashBoardTemplates()):this.isFilterValid=!1}fetchFilteredLauchDashBoardTemplates(){this.templates=null,window.scroll(0,0),this.loading=!0;const t=this.form.controls,e=t.fromDate.value,n=t.toDate.value,a=t.filterType.value;this.userService.fetchCheckerScreenTemplates(this.currentPage,`${e.year}-${e.month}-${e.day}`,`${n.year}-${n.month}-${n.day}`,"",this.checkerLogin,"0"===a?"":a).subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.templates=t.ProcessVariables.templateList,this.collectionSize=t.ProcessVariables.totalCount,this.loading=!1):(this.loading=!1,this.toasterService.showError(n.value))},t=>{this.loading=!1,this.toasterService.showError(t)})}fetchLauchDashBoardTemplate(){this.templates=null,window.scroll(0,0),this.loading=!0,this.userService.fetchCheckerScreenTemplates(this.currentPage,"","","",this.checkerLogin,"").subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.templates=t.ProcessVariables.templateList,this.collectionSize=t.ProcessVariables.totalCount,this.loading=!1):(this.loading=!1,this.toasterService.showError(n.value))},t=>{this.loading=!1,this.toasterService.showError(t)})}deActivateTemplate(t){this.userService.deactivateTemplate(t.id).subscribe(t=>{const{ProcessVariables:{status:e},ProcessVariables:{message:n={}}}=t;e?(this.toasterService.showSuccess(s.j.DEACTIVATE_USER_SUCCESS),this.isFilterValid?this.fetchFilteredLauchDashBoardTemplates():this.fetchLauchDashBoardTemplate()):this.toasterService.showError(n.value),console.log(t)},t=>{this.toasterService.showError(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.c),o.Mb(f.a),o.Mb(c.c),o.Mb(l.a),o.Mb(b.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-launch-dashboard"]],decls:30,vars:9,consts:[["type","dark","height","0.5rem",3,"value","striped","animated",4,"ngIf"],[1,"row","p-3"],[1,"col-6"],[3,"formGroup"],[1,"form-row"],[1,"col"],[1,"input-group"],["placeholder","From Date","name","fromDate","formControlName","fromDate","ngbDatepicker","","readonly","",1,"form-control","bg-search","btn-outline-secondary",3,"maxDate","minDate","dateSelect"],["fromDate","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar-check-o"],["placeholder","To Date","name","toDate","formControlName","toDate","ngbDatepicker","","readonly","",1,"form-control","bg-search","btn-outline-secondary",3,"maxDate","minDate","dateSelect"],["toDate","ngbDatepicker"],["formControlName","filterType","title","Filter Type","id","role",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table"],[1,"thead-light"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["type","dark","height","0.5rem",3,"value","striped","animated"],[3,"value"],["scope","col"],["type","button",1,"btn","shadow",3,"click"]],template:function(t,e){if(1&t){const t=o.Sb();o.Ac(0,w,1,3,"ngb-progressbar",0),o.Rb(1,"div",1),o.Nb(2,"div",2),o.Rb(3,"div",2),o.Rb(4,"form",3),o.Rb(5,"div",4),o.Rb(6,"div",5),o.Rb(7,"div",6),o.Rb(8,"input",7,8),o.dc("dateSelect",(function(t){return e.onFromDateChange(t)})),o.Qb(),o.Rb(10,"div",9),o.Rb(11,"button",10),o.dc("click",(function(){return o.uc(t),o.tc(9).toggle()})),o.Nb(12,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(13,"div",5),o.Rb(14,"div",6),o.Rb(15,"input",12,13),o.dc("dateSelect",(function(t){return e.onToDateChange(t)})),o.Qb(),o.Rb(17,"div",9),o.Rb(18,"button",10),o.dc("click",(function(){return o.uc(t),o.tc(16).toggle()})),o.Nb(19,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(20,"div",5),o.Rb(21,"select",14),o.Ac(22,k,2,2,"option",15),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(23,"div",16),o.Rb(24,"table",17),o.Rb(25,"thead",18),o.Rb(26,"tr"),o.Ac(27,E,2,1,"th",19),o.Qb(),o.Qb(),o.Rb(28,"tbody"),o.Ac(29,O,17,12,"tr",20),o.Qb(),o.Qb(),o.Qb()}2&t&&(o.lc("ngIf",e.loading),o.zb(4),o.lc("formGroup",e.form),o.zb(4),o.lc("maxDate",e.fromMaxDate)("minDate",e.fromMinDate),o.zb(7),o.lc("maxDate",e.toMaxDate)("minDate",e.toMinDate),o.zb(7),o.lc("ngForOf",e.filterOptions),o.zb(5),o.lc("ngForOf",e.tableHeaders),o.zb(2),o.lc("ngForOf",e.templates))},directives:[a.k,r.s,r.l,r.g,r.b,c.b,r.k,r.e,r.p,a.j,c.f,r.m,r.r],pipes:[a.d],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;font-size:14px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-webkit-fill-available;color:#fff;background-color:#97144d;border:1px solid #97144d;font-size:12px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;color:#97144d!important}table[_ngcontent-%COMP%]{margin-bottom:0!important}.bg-search[_ngcontent-%COMP%]{background-color:#fff!important;color:#6c757d}"]}),t})();function A(t,e){1&t&&(o.Rb(0,"span",7),o.Cc(1,"Launch"),o.Qb())}function x(t,e){1&t&&o.Nb(0,"app-launch")}function _(t,e){1&t&&(o.Rb(0,"span",7),o.Cc(1,"Launch Dashboard"),o.Qb())}function V(t,e){1&t&&o.Nb(0,"app-launch-dashboard")}const F=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-marketing-checker"]],decls:11,vars:0,consts:[[1,"main"],[1,"container"],[1,"row","pt-4"],[1,"col","card","shadow","p-0"],["justify","justified"],["ngbTabTitle",""],["ngbTabContent",""],[1,"tab-title"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Rb(2,"div",2),o.Rb(3,"div",3),o.Rb(4,"ngb-tabset",4),o.Rb(5,"ngb-tab"),o.Ac(6,A,2,0,"ng-template",5),o.Ac(7,x,1,0,"ng-template",6),o.Qb(),o.Rb(8,"ngb-tab"),o.Ac(9,_,2,0,"ng-template",5),o.Ac(10,V,1,0,"ng-template",6),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb())},directives:[c.j,c.g,c.i,c.h,M,z],styles:[".tab-title[_ngcontent-%COMP%]{font-size:18px}"]}),t})(),pathMatch:"full"}];let B=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(F)],i.e]}),t})();var I=n("PCNd");let L=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[a.b,I.a,B]]}),t})()}}]);